<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASCII Roguelike Survival</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ëª¨ë°”ì¼ ê³µì§€ íŒì—… -->
    <div id="mobile-notice" onclick="this.style.display='none'">
        <div class="notice-content">
            <h1>ğŸ“± ê³µì§€</h1>
            <p>ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ v2.0</p>
            <p>ì—…ë°ì´íŠ¸: 2024.12.19</p>
            <p style="margin-top: 20px; font-size: 14px; color: #888;">í„°ì¹˜í•˜ë©´ ë‹«í™ë‹ˆë‹¤</p>
        </div>
    </div>
    <style>
        #mobile-notice {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        .notice-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 3px solid #ffcc00;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 80%;
            box-shadow: 0 0 30px rgba(255,204,0,0.3);
        }
        .notice-content h1 {
            color: #ffcc00;
            font-size: 32px;
            margin-bottom: 20px;
        }
        .notice-content p {
            color: #fff;
            font-size: 18px;
            margin: 10px 0;
        }
        @media (max-width: 900px) {
            #mobile-notice { display: flex; }
        }
    </style>

    <div id="game-container">
        <!-- íƒ€ì´í‹€ í™”ë©´ -->
        <div id="title-screen" class="screen">
            <div class="title-art">
<pre>
    _    ____   ____ ___ ___
   / \  / ___| / ___|_ _|_ _|
  / _ \ \___ \| |    | | | |
 / ___ \ ___) | |___ | | | |
/_/   \_\____/ \____|___|___|

 ____                        _ _ _
|  _ \ ___   __ _ _   _  ___| (_) | _____
| |_) / _ \ / _` | | | |/ _ \ | | |/ / _ \
|  _ < (_) | (_| | |_| |  __/ | |   <  __/
|_| \_\___/ \__, |\__,_|\___|_|_|_|\_\___|
            |___/
  ____                  _            _
 / ___| _   _ _ ____   _(_)_   ____ _| |
 \___ \| | | | '__\ \ / / \ \ / / _` | |
  ___) | |_| | |   \ V /| |\ V / (_| | |
 |____/ \__,_|_|    \_/ |_| \_/ \__,_|_|
</pre>
            </div>
            <div class="menu">
                <button onclick="game.newGame()">ìƒˆ ê²Œì„ ì‹œì‘</button>
                <button onclick="game.loadGame()">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                <button onclick="game.showHelp()">ë„ì›€ë§</button>
            </div>
            <div class="version">v1.0 - Nethack + Unreal World Style</div>
        </div>

        <!-- ê²Œì„ í™”ë©´ -->
        <div id="game-screen" class="screen hidden">
            <!-- ëª¨ë°”ì¼ ìƒë‹¨ ì˜ì—­: 3D ë·° + ìƒíƒœì°½ -->
            <div id="mobile-top-area">
                <div id="mobile-3d-view">
                    <pre id="mobile-view3d"></pre>
                </div>
                <div id="mobile-status-panel">
                    <div class="mobile-stat">
                        <span class="stat-icon">â™¥</span>
                        <div class="mobile-bar-wrap">
                            <div id="mobile-hp-bar" class="mobile-bar hp"></div>
                        </div>
                        <span id="mobile-hp-text">30/30</span>
                    </div>
                    <div class="mobile-stat">
                        <span class="stat-icon">ğŸ–</span>
                        <div class="mobile-bar-wrap">
                            <div id="mobile-hunger-bar" class="mobile-bar hunger"></div>
                        </div>
                        <span id="mobile-hunger-text">100%</span>
                    </div>
                    <div class="mobile-stat">
                        <span class="stat-icon">ğŸ’§</span>
                        <div class="mobile-bar-wrap">
                            <div id="mobile-thirst-bar" class="mobile-bar thirst"></div>
                        </div>
                        <span id="mobile-thirst-text">100%</span>
                    </div>
                    <div id="mobile-info">
                        <span id="mobile-floor">B1F</span>
                        <span id="mobile-time">D1 08:00</span>
                        <span id="mobile-gold">ğŸ’°100</span>
                    </div>
                    <div id="mobile-message"></div>
                </div>
            </div>

            <!-- ì¢Œì¸¡ íŒ¨ë„: 3D ë·° (30%) - ë°ìŠ¤í¬íƒ‘ìš© -->
            <div id="left-panel">
                <div class="view-header">
                    <span class="view-title">[ 1ì¸ì¹­ ë·° ]</span>
                    <button id="toggle-view-btn" onclick="game.toggleView()">V</button>
                </div>
                <div id="view3d-container">
                    <pre id="view3d-display"></pre>
                </div>
                <div id="compass-container">
                    <pre id="compass-display"></pre>
                    <span id="mini-direction"></span>
                </div>
                <div id="mini-status">
                    <span class="mini-hp">HP: <span id="mini-hp-text">30/30</span></span> |
                    <span class="mini-pos">ìœ„ì¹˜: <span id="mini-pos-text">(0,0)</span></span>
                </div>
            </div>

            <!-- ìš°ì¸¡ íŒ¨ë„: ë˜ì „ë§µ + UI (70%) -->
            <div id="right-panel">
                <div id="view-container">
                    <!-- 2D ë§µ -->
                    <div id="map-container">
                        <div class="view-header">
                            <span class="view-title">[ ë˜ì „ ë§µ ]</span>
                            <span id="floor-display">Floor 1</span>
                        </div>
                        <pre id="map-display"></pre>
                    </div>
                </div>
                <div id="ui-panel">
                    <div id="status-bar">
                        <div class="stat">
                            <span class="stat-label">HP:</span>
                            <div class="bar-container">
                                <div id="hp-bar" class="bar hp"></div>
                            </div>
                            <span id="hp-text">30/30</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">í¬ë§Œ:</span>
                            <div class="bar-container">
                                <div id="hunger-bar" class="bar hunger"></div>
                            </div>
                            <span id="hunger-text">100%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">ìˆ˜ë¶„:</span>
                            <div class="bar-container">
                                <div id="thirst-bar" class="bar thirst"></div>
                            </div>
                            <span id="thirst-text">100%</span>
                        </div>
                    </div>
                    <div id="info-bar">
                        <span id="time-display">Day 1, 08:00 (ì•„ì¹¨)</span>
                        <span id="turn-display">Turn: 0</span>
                        <span id="gold-display">Gold: 100</span>
                        <span id="position-display">(0, 0)</span>
                    </div>
                    <div id="message-log"></div>
                </div>
            </div>

            <!-- ëª¨ë°”ì¼ í„°ì¹˜ ì»¨íŠ¸ë¡¤ -->
            <div id="mobile-controls">
                <!-- ì™¼ìª½: ë°©í–¥í‚¤ -->
                <div id="dpad-container">
                    <div class="dpad">
                        <button class="dpad-btn dpad-up" data-dir="up">â†‘</button>
                        <button class="dpad-btn dpad-left" data-dir="left">â†</button>
                        <button class="dpad-btn dpad-center" data-action="wait">â—</button>
                        <button class="dpad-btn dpad-right" data-dir="right">â†’</button>
                        <button class="dpad-btn dpad-down" data-dir="down">â†“</button>
                    </div>
                </div>
                <!-- ì˜¤ë¥¸ìª½: ê¸°ëŠ¥í‚¤ -->
                <div id="action-container">
                    <button class="action-btn" data-action="pickup">ì¤ê¸°</button>
                    <button class="action-btn" data-action="inventory">ê°€ë°©</button>
                    <button class="action-btn" data-action="rest">íœ´ì‹</button>
                    <button class="action-btn" data-action="talk">ëŒ€í™”</button>
                </div>
            </div>
        </div>

        <!-- ì¸ë²¤í† ë¦¬ ëª¨ë‹¬ -->
        <div id="inventory-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ì¸ë²¤í† ë¦¬</h2>
                <div class="modal-help">[a-z] ì‚¬ìš© | [Shift+a-z] ë²„ë¦¬ê¸° | [ESC] ë‹«ê¸°</div>
                <div id="inventory-list"></div>
            </div>
        </div>

        <!-- ìƒì  ëª¨ë‹¬ -->
        <div id="shop-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="shop-title">ìƒì </h2>
                <div class="modal-help">[b] êµ¬ë§¤ | [s] íŒë§¤ | [ESC] ë‹«ê¸°</div>
                <div id="shop-inventory"></div>
            </div>
        </div>

        <!-- ëŒ€í™” ëª¨ë‹¬ -->
        <div id="dialogue-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="dialogue-npc-name">NPC</h2>
                <div id="dialogue-text"></div>
                <div id="dialogue-options"></div>
            </div>
        </div>

        <!-- í€˜ìŠ¤íŠ¸ ëª¨ë‹¬ -->
        <div id="quest-modal" class="modal hidden">
            <div class="modal-content">
                <h2>í€˜ìŠ¤íŠ¸ ëª©ë¡</h2>
                <div id="quest-list"></div>
            </div>
        </div>

        <!-- ì¢…êµ ëª¨ë‹¬ -->
        <div id="religion-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ì‹ ì•™</h2>
                <div id="religion-info"></div>
            </div>
        </div>

        <!-- ë„ì›€ë§ ëª¨ë‹¬ -->
        <div id="help-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ì¡°ì‘ë²•</h2>
                <div class="help-content">
                    <h3>ì´ë™</h3>
                    <p>ë°©í–¥í‚¤ ë˜ëŠ” Numpad: ìƒí•˜ì¢Œìš° ì´ë™</p>
                    <p>7/9/1/3 ë˜ëŠ” y/u/b/n: ëŒ€ê°ì„  ì´ë™</p>

                    <h3>í–‰ë™</h3>
                    <p><kbd>g</kbd> ë˜ëŠ” <kbd>,</kbd> : ì•„ì´í…œ ì¤ê¸°</p>
                    <p><kbd>i</kbd> : ì¸ë²¤í† ë¦¬</p>
                    <p><kbd>.</kbd> ë˜ëŠ” <kbd>5</kbd> : ëŒ€ê¸°</p>
                    <p><kbd>r</kbd> : íœ´ì‹</p>
                    <p><kbd>t</kbd> : NPCì™€ ëŒ€í™”</p>
                    <p><kbd>p</kbd> : ê¸°ë„</p>
                    <p><kbd>q</kbd> : í€˜ìŠ¤íŠ¸ ëª©ë¡</p>
                    <p><kbd>></kbd> : ê³„ë‹¨ ë‚´ë ¤ê°€ê¸°</p>
                    <p><kbd><</kbd> : ê³„ë‹¨ ì˜¬ë¼ê°€ê¸°</p>

                    <h3>ì‹œìŠ¤í…œ</h3>
                    <p><kbd>S</kbd> : ì €ì¥</p>
                    <p><kbd>L</kbd> : ë¶ˆëŸ¬ì˜¤ê¸°</p>
                    <p><kbd>v</kbd> : ë·° ì „í™˜ (3D/2D/ë¶„í• )</p>
                    <p><kbd>?</kbd> : ë„ì›€ë§</p>
                    <p><kbd>ESC</kbd> : ì°½ ë‹«ê¸°</p>

                    <h3>ì‹¬ë³¼</h3>
                    <pre>
@ = ë‹¹ì‹           g = ê³ ë¸”ë¦°        o = ì˜¤í¬
% = ìŒì‹/ì‹œì²´     ! = ë¬¼ì•½          > = í•˜ê°•ê³„ë‹¨
. = ë°”ë‹¥          # = ë²½            < = ìƒìŠ¹ê³„ë‹¨
@ = NPC (ë…¸ë‘)    * = ëª¨ë‹¥ë¶ˆ        ~ = ë¬¼
                    </pre>
                </div>
                <button onclick="game.closeModal()">ë‹«ê¸° (ESC)</button>
            </div>
        </div>

        <!-- ê²Œì„ ì˜¤ë²„ -->
        <div id="gameover-screen" class="screen hidden">
            <div class="gameover-text">
                <h1>*** ë‹¹ì‹ ì€ ì£½ì—ˆë‹¤ ***</h1>
                <p id="death-reason"></p>
                <div class="stats">
                    <p>ìƒì¡´ ì¼ìˆ˜: <span id="final-days">0</span></p>
                    <p>ì´ í„´: <span id="final-turns">0</span></p>
                    <p>ì²˜ì¹˜í•œ ì : <span id="final-kills">0</span></p>
                </div>
                <button onclick="game.newGame()">ë‹¤ì‹œ ì‹œì‘</button>
                <button onclick="game.showTitle()">íƒ€ì´í‹€ë¡œ</button>
            </div>
        </div>
    </div>

    <script src="weapons.js"></script>
    <script src="monster_patterns.js"></script>
    <script src="view3d.js"></script>
    <script src="game.js"></script>
</body>
</html>
